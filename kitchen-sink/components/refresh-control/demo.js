webpackJsonp([14,141],{6:function(n,t,s){"use strict";s(18),s(17),s(13)},11:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}t.__esModule=!0;var e=s(12),o=a(e);t["default"]=function(n){if(Array.isArray(n)){for(var t=0,s=Array(n.length);t<n.length;t++)s[t]=n[t];return s}return(0,o["default"])(n)}},12:function(n,t,s){n.exports={"default":s(14),__esModule:!0}},13:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}var e=s(11);a(e)},14:function(n,t,s){s(29),s(16),n.exports=s(20).Array.from},15:function(n,t,s){"use strict";var a=s(25),e=s(28);n.exports=function(n,t,s){t in n?a.f(n,t,e(0,s)):n[t]=s}},16:function(n,t,s){"use strict";var a=s(27),e=s(23),o=s(26),p=s(35),c=s(34),l=s(30),i=s(15),r=s(31);e(e.S+e.F*!s(36)(function(n){Array.from(n)}),"Array",{from:function(n){var t,s,e,u,d=o(n),k="function"==typeof this?this:Array,h=arguments.length,f=h>1?arguments[1]:void 0,_=void 0!==f,g=0,m=r(d);if(_&&(f=a(f,h>2?arguments[2]:void 0,2)),void 0==m||k==Array&&c(m))for(t=l(d.length),s=new k(t);t>g;g++)i(s,g,_?f(d[g],g):d[g]);else for(u=m.call(d),s=new k;!(e=u.next()).done;g++)i(s,g,_?p(u,f,[e.value,g],!0):e.value);return s.length=g,s}})},17:function(n,t){},18:function(n,t){},22:function(n,t,s){"use strict";s(32)},24:function(n,t,s){"use strict";s(6),s(37)},32:function(n,t){},37:function(n,t){},80:function(n,t,s){(function(a){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(89),p=e(o),c=60,l=1e3,i={},r=1,u="undefined"!=typeof window?window:void 0;u||(u="undefined"!=typeof a?a:{});var d={stop:function(n){var t=null!=i[n];return t&&(i[n]=null),t},isRunning:function(n){return null!=i[n]},start:function k(n,t,s,a,e){var k=+new Date,o=k,u=0,d=0,h=r++;if(h%20===0){var f={};for(var _ in i)f[_]=!0;i=f}var g=function m(r){var f=r!==!0,_=+new Date;if(!i[h]||t&&!t(h))return i[h]=null,void(s&&s(c-d/((_-k)/l),h,!1));if(f)for(var g=Math.round((_-o)/(l/c))-1,v=0;v<Math.min(g,4);v++)m(!0),d++;a&&(u=(_-k)/a,u>1&&(u=1));var y=e?e(u):u;n(y,_,f)!==!1&&1!==u||!f?f&&(o=_,(0,p["default"])(m)):(i[h]=null,s&&s(c-d/((_-k)/l),h,1===u||null==a))};return i[h]=!0,(0,p["default"])(g),h}};t["default"]=d,n.exports=t["default"]}).call(t,function(){return this}())},81:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){n.transform=t,n.webkitTransform=t,n.MozTransform=t}function o(n,t){n.transformOrigin=t,n.webkitTransformOrigin=t,n.MozTransformOrigin=t}function p(n){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=void 0,p=void 0,c=void 0,i=void 0,d=void 0,k=void 0,h=void 0,f=void 0;this.content=n,this.container=n.parentNode,this.options=(0,l["default"])({},s,{scrollingComplete:function(){t.clearScrollbarTimer(),t.timer=setTimeout(function(){t._destroyed||(s.scrollingComplete&&s.scrollingComplete(),a&&["x","y"].forEach(function(n){a[n]&&t.setScrollbarOpacity(n,0)}))},0)}}),this.options.scrollbars&&(a=this.scrollbars={},p=this.indicators={},c=this.indicatorsSize={},i=this.scrollbarsSize={},d=this.indicatorsPos={},k=this.scrollbarsOpacity={},h=this.contentSize={},f=this.clientSize={},["x","y"].forEach(function(n){var s="x"===n?"scrollingX":"scrollingY";t.options[s]!==!1&&(a[n]=document.createElement("div"),a[n].className="zscroller-scrollbar-"+n,p[n]=document.createElement("div"),p[n].className="zscroller-indicator-"+n,a[n].appendChild(p[n]),c[n]=-1,k[n]=0,d[n]=0,t.container.appendChild(a[n]))}));var _=!0,g=n.style;this.scroller=new r["default"](function(n,o,p){!_&&s.onScroll&&s.onScroll(),e(g,"translate3d("+-n+"px,"+-o+"px,0) scale("+p+")"),a&&["x","y"].forEach(function(s){if(a[s]){var e="x"===s?n:o;if(f[s]>=h[s])t.setScrollbarOpacity(s,0);else{_||t.setScrollbarOpacity(s,1);var p=f[s]/h[s]*i[s],c=p,l=void 0;e<0?(c=Math.max(p+e,u),l=0):e>h[s]-f[s]?(c=Math.max(p+h[s]-f[s]-e,u),l=i[s]-c):l=e/h[s]*i[s],t.setIndicatorSize(s,c),t.setIndicatorPos(s,l)}}}),_=!1},this.options),this.bindEvents(),o(n.style,"left top"),this.reflow()}Object.defineProperty(t,"__esModule",{value:!0});var c=s(2),l=a(c),i=s(82),r=a(i),u=8;p.prototype.setDisabled=function(n){this.disabled=n},p.prototype.clearScrollbarTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},p.prototype.setScrollbarOpacity=function(n,t){this.scrollbarsOpacity[n]!==t&&(this.scrollbars[n].style.opacity=t,this.scrollbarsOpacity[n]=t)},p.prototype.setIndicatorPos=function(n,t){this.indicatorsPos[n]!==t&&("x"===n?e(this.indicators[n].style,"translate3d("+t+"px,0,0)"):e(this.indicators[n].style,"translate3d(0, "+t+"px,0)"),this.indicatorsPos[n]=t)},p.prototype.setIndicatorSize=function(n,t){this.indicatorsSize[n]!==t&&(this.indicators[n].style["x"===n?"width":"height"]=t+"px",this.indicatorsSize[n]=t)},p.prototype.reflow=function(){this.scrollbars&&(this.contentSize.x=this.content.offsetWidth,this.contentSize.y=this.content.offsetHeight,this.clientSize.x=this.container.clientWidth,this.clientSize.y=this.container.clientHeight,this.scrollbars.x&&(this.scrollbarsSize.x=this.scrollbars.x.offsetWidth),this.scrollbars.y&&(this.scrollbarsSize.y=this.scrollbars.y.offsetHeight)),this.scroller.setDimensions(this.container.clientWidth,this.container.clientHeight,this.content.offsetWidth,this.content.offsetHeight);var n=this.container.getBoundingClientRect();this.scroller.setPosition(n.x+this.container.clientLeft,n.y+this.container.clientTop)},p.prototype.destroy=function(){this._destroyed=!0,window.removeEventListener("resize",this.onResize,!1),this.container.removeEventListener("touchstart",this.onTouchStart,!1),this.container.removeEventListener("touchmove",this.onTouchMove,!1),this.container.removeEventListener("touchend",this.onTouchEnd,!1),this.container.removeEventListener("touchcancel",this.onTouchCancel,!1),this.container.removeEventListener("mousedown",this.onMouseDown,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.container.removeEventListener("mousewheel",this.onMouseWheel,!1)},p.prototype.bindEvents=function(){var n=this,t=this;window.addEventListener("resize",this.onResize=function(){t.reflow()},!1);var s=!1,a=void 0;this.container.addEventListener("touchstart",this.onTouchStart=function(e){s=!0,a&&(clearTimeout(a),a=null),e.touches[0]&&e.touches[0].target&&e.touches[0].target.tagName.match(/input|textarea|select/i)||n.disabled||(n.clearScrollbarTimer(),t.reflow(),t.scroller.doTouchStart(e.touches,e.timeStamp))},!1),this.container.addEventListener("touchmove",this.onTouchMove=function(s){n.options.preventDefaultOnTouchMove!==!1&&s.preventDefault(),t.scroller.doTouchMove(s.touches,s.timeStamp,s.scale)},!1),this.container.addEventListener("touchend",this.onTouchEnd=function(n){t.scroller.doTouchEnd(n.timeStamp),a=setTimeout(function(){s=!1},300)},!1),this.container.addEventListener("touchcancel",this.onTouchCancel=function(n){t.scroller.doTouchEnd(n.timeStamp),a=setTimeout(function(){s=!1},300)},!1),this.onMouseUp=function(s){t.scroller.doTouchEnd(s.timeStamp),document.removeEventListener("mousemove",n.onMouseMove,!1),document.removeEventListener("mouseup",n.onMouseUp,!1)},this.onMouseMove=function(n){t.scroller.doTouchMove([{pageX:n.pageX,pageY:n.pageY}],n.timeStamp)},this.container.addEventListener("mousedown",this.onMouseDown=function(a){s||a.target.tagName.match(/input|textarea|select/i)||n.disabled||(n.clearScrollbarTimer(),t.scroller.doTouchStart([{pageX:a.pageX,pageY:a.pageY}],a.timeStamp),t.reflow(),a.preventDefault(),document.addEventListener("mousemove",n.onMouseMove,!1),document.addEventListener("mouseup",n.onMouseUp,!1))},!1),this.container.addEventListener("mousewheel",this.onMouseWheel=function(n){t.options.zooming&&(t.scroller.doMouseZoom(n.wheelDelta,n.timeStamp,n.pageX,n.pageY),n.preventDefault())},!1)},t["default"]=p,n.exports=t["default"]},82:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e,o=s(80),p=a(o),c=function(){};e=function(n,t){this.__callback=n,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:c,penetrationDeceleration:.03,penetrationAcceleration:.08};for(var s in t)this.options[s]=t[s]};var l=function(n){return Math.pow(n-1,3)+1},i=function(n){return(n/=.5)<1?.5*Math.pow(n,3):.5*(Math.pow(n-2,3)+2)},r={__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(n,t,s,a){var e=this;n===+n&&(e.__clientWidth=n),t===+t&&(e.__clientHeight=t),s===+s&&(e.__contentWidth=s),a===+a&&(e.__contentHeight=a),e.__computeScrollMax(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},setPosition:function(n,t){var s=this;s.__clientLeft=n||0,s.__clientTop=t||0},setSnapSize:function(n,t){var s=this;s.__snapWidth=n,s.__snapHeight=t},activatePullToRefresh:function(n,t,s,a){var e=this;e.__refreshHeight=n,e.__refreshActivate=t,e.__refreshDeactivate=s,e.__refreshStart=a},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var n=this;n.__refreshActive=!1,n.__refreshDeactivate&&n.__refreshDeactivate(),n.scrollTo(n.__scrollLeft,n.__scrollTop,!0)},getValues:function(){var n=this;return{left:n.__scrollLeft,top:n.__scrollTop,zoom:n.__zoomLevel}},getScrollMax:function(){var n=this;return{left:n.__maxScrollLeft,top:n.__maxScrollTop}},zoomTo:function(n,t,s,a,e){var o=this;if(!o.options.zooming)throw new Error("Zooming is not enabled!");e&&(o.__zoomComplete=e),o.__isDecelerating&&(p["default"].stop(o.__isDecelerating),o.__isDecelerating=!1);var c=o.__zoomLevel;null==s&&(s=o.__clientWidth/2),null==a&&(a=o.__clientHeight/2),n=Math.max(Math.min(n,o.options.maxZoom),o.options.minZoom),o.__computeScrollMax(n);var l=(s+o.__scrollLeft)*n/c-s,i=(a+o.__scrollTop)*n/c-a;l>o.__maxScrollLeft?l=o.__maxScrollLeft:l<0&&(l=0),i>o.__maxScrollTop?i=o.__maxScrollTop:i<0&&(i=0),o.__publish(l,i,n,t)},zoomBy:function(n,t,s,a,e){var o=this;o.zoomTo(o.__zoomLevel*n,t,s,a,e)},scrollTo:function(n,t,s,a,e){var o=this;if(o.__isDecelerating&&(p["default"].stop(o.__isDecelerating),o.__isDecelerating=!1),null!=a&&a!==o.__zoomLevel){if(!o.options.zooming)throw new Error("Zooming is not enabled!");n*=a,t*=a,o.__computeScrollMax(a)}else a=o.__zoomLevel;o.options.scrollingX?o.options.paging?n=Math.round(n/o.__clientWidth)*o.__clientWidth:o.options.snapping&&(n=Math.round(n/o.__snapWidth)*o.__snapWidth):n=o.__scrollLeft,o.options.scrollingY?o.options.paging?t=Math.round(t/o.__clientHeight)*o.__clientHeight:o.options.snapping&&(t=Math.round(t/o.__snapHeight)*o.__snapHeight):t=o.__scrollTop,n=Math.max(Math.min(o.__maxScrollLeft,n),0),t=Math.max(Math.min(o.__maxScrollTop,t),0),n===o.__scrollLeft&&t===o.__scrollTop&&(s=!1,e&&e()),o.__isTracking||o.__publish(n,t,a,s)},scrollBy:function(n,t,s){var a=this,e=a.__isAnimating?a.__scheduledLeft:a.__scrollLeft,o=a.__isAnimating?a.__scheduledTop:a.__scrollTop;a.scrollTo(e+(n||0),o+(t||0),s)},doMouseZoom:function(n,t,s,a){var e=this,o=n>0?.97:1.03;return e.zoomTo(e.__zoomLevel*o,!1,s-e.__clientLeft,a-e.__clientTop)},doTouchStart:function(n,t){if(null==n.length)throw new Error("Invalid touch list: "+n);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var s=this;s.__interruptedAnimation=!0,s.__isDecelerating&&(p["default"].stop(s.__isDecelerating),s.__isDecelerating=!1,s.__interruptedAnimation=!0),s.__isAnimating&&(p["default"].stop(s.__isAnimating),s.__isAnimating=!1,s.__interruptedAnimation=!0);var a,e,o=1===n.length;o?(a=n[0].pageX,e=n[0].pageY):(a=Math.abs(n[0].pageX+n[1].pageX)/2,e=Math.abs(n[0].pageY+n[1].pageY)/2),s.__initialTouchLeft=a,s.__initialTouchTop=e,s.__zoomLevelStart=s.__zoomLevel,s.__lastTouchLeft=a,s.__lastTouchTop=e,s.__lastTouchMove=t,s.__lastScale=1,s.__enableScrollX=!o&&s.options.scrollingX,s.__enableScrollY=!o&&s.options.scrollingY,s.__isTracking=!0,s.__didDecelerationComplete=!1,s.__isDragging=!o,s.__isSingleTouch=o,s.__positions=[]},doTouchMove:function(n,t,s){if(null==n.length)throw new Error("Invalid touch list: "+n);if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var a=this;if(a.__isTracking){var e,o;2===n.length?(e=Math.abs(n[0].pageX+n[1].pageX)/2,o=Math.abs(n[0].pageY+n[1].pageY)/2):(e=n[0].pageX,o=n[0].pageY);var p=a.__positions;if(a.__isDragging){var c=e-a.__lastTouchLeft,l=o-a.__lastTouchTop,i=a.__scrollLeft,r=a.__scrollTop,u=a.__zoomLevel;if(null!=s&&a.options.zooming){var d=u;if(u=u/a.__lastScale*s,u=Math.max(Math.min(u,a.options.maxZoom),a.options.minZoom),d!==u){var k=e-a.__clientLeft,h=o-a.__clientTop;i=(k+i)*u/d-k,r=(h+r)*u/d-h,a.__computeScrollMax(u)}}if(a.__enableScrollX){i-=c*this.options.speedMultiplier;var f=a.__maxScrollLeft;(i>f||i<0)&&(a.options.bouncing?i+=c/2*this.options.speedMultiplier:i=i>f?f:0)}if(a.__enableScrollY){r-=l*this.options.speedMultiplier;var _=a.__maxScrollTop;(r>_||r<0)&&(a.options.bouncing?(r+=l/2*this.options.speedMultiplier,a.__enableScrollX||null==a.__refreshHeight||(!a.__refreshActive&&r<=-a.__refreshHeight?(a.__refreshActive=!0,a.__refreshActivate&&a.__refreshActivate()):a.__refreshActive&&r>-a.__refreshHeight&&(a.__refreshActive=!1,a.__refreshDeactivate&&a.__refreshDeactivate()))):r=r>_?_:0)}p.length>60&&p.splice(0,30),p.push(i,r,t),a.__publish(i,r,u)}else{var g=3,m=5,v=Math.abs(e-a.__initialTouchLeft),y=Math.abs(o-a.__initialTouchTop);a.__enableScrollX=a.options.scrollingX&&v>=g,a.__enableScrollY=a.options.scrollingY&&y>=g;var S=void 0;a.options.locking&&a.__enableScrollY&&(S=S||Math.atan2(y,v),S<Math.PI/4&&(a.__enableScrollY=!1)),a.options.locking&&a.__enableScrollX&&(S=S||Math.atan2(y,v),S>Math.PI/4&&(a.__enableScrollX=!1)),p.push(a.__scrollLeft,a.__scrollTop,t),a.__isDragging=(a.__enableScrollX||a.__enableScrollY)&&(v>=m||y>=m),a.__isDragging&&(a.__interruptedAnimation=!1)}a.__lastTouchLeft=e,a.__lastTouchTop=o,a.__lastTouchMove=t,a.__lastScale=s}},doTouchEnd:function(n){if(n instanceof Date&&(n=n.valueOf()),"number"!=typeof n)throw new Error("Invalid timestamp value: "+n);var t=this;if(t.__isTracking){if(t.__isTracking=!1,t.__isDragging)if(t.__isDragging=!1,t.__isSingleTouch&&t.options.animating&&n-t.__lastTouchMove<=100){for(var s=t.__positions,a=s.length-1,e=a,o=a;o>0&&s[o]>t.__lastTouchMove-100;o-=3)e=o;if(e!==a){var p=s[a]-s[e],c=t.__scrollLeft-s[e-2],l=t.__scrollTop-s[e-1];t.__decelerationVelocityX=c/p*(1e3/60),t.__decelerationVelocityY=l/p*(1e3/60);var i=t.options.paging||t.options.snapping?4:1;Math.abs(t.__decelerationVelocityX)>i||Math.abs(t.__decelerationVelocityY)>i?t.__refreshActive||t.__startDeceleration(n):t.options.scrollingComplete()}else t.options.scrollingComplete()}else n-t.__lastTouchMove>100&&t.options.scrollingComplete();t.__isDecelerating||(t.__refreshActive&&t.__refreshStart?(t.__publish(t.__scrollLeft,-t.__refreshHeight,t.__zoomLevel,!0),t.__refreshStart&&t.__refreshStart()):((t.__interruptedAnimation||t.__isDragging)&&t.options.scrollingComplete(),t.scrollTo(t.__scrollLeft,t.__scrollTop,!0,t.__zoomLevel),t.__refreshActive&&(t.__refreshActive=!1,t.__refreshDeactivate&&t.__refreshDeactivate()))),t.__positions.length=0}},__publish:function(n,t,s,a){var e=this,o=e.__isAnimating;if(o&&(p["default"].stop(o),e.__isAnimating=!1),a&&e.options.animating){e.__scheduledLeft=n,e.__scheduledTop=t,e.__scheduledZoom=s;var c=e.__scrollLeft,r=e.__scrollTop,u=e.__zoomLevel,d=n-c,k=t-r,h=s-u,f=function(n,t,s){s&&(e.__scrollLeft=c+d*n,e.__scrollTop=r+k*n,e.__zoomLevel=u+h*n,e.__callback&&e.__callback(e.__scrollLeft,e.__scrollTop,e.__zoomLevel))},_=function(n){return e.__isAnimating===n},g=function(n,t,s){t===e.__isAnimating&&(e.__isAnimating=!1),(e.__didDecelerationComplete||s)&&e.options.scrollingComplete(),e.options.zooming&&(e.__computeScrollMax(),e.__zoomComplete&&(e.__zoomComplete(),e.__zoomComplete=null))};e.__isAnimating=p["default"].start(f,_,g,e.options.animationDuration,o?l:i)}else e.__scheduledLeft=e.__scrollLeft=n,e.__scheduledTop=e.__scrollTop=t,e.__scheduledZoom=e.__zoomLevel=s,e.__callback&&e.__callback(n,t,s),e.options.zooming&&(e.__computeScrollMax(),e.__zoomComplete&&(e.__zoomComplete(),e.__zoomComplete=null))},__computeScrollMax:function(n){var t=this;null==n&&(n=t.__zoomLevel),t.__maxScrollLeft=Math.max(t.__contentWidth*n-t.__clientWidth,0),t.__maxScrollTop=Math.max(t.__contentHeight*n-t.__clientHeight,0)},__startDeceleration:function(n){var t=this;if(t.options.paging){var s=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0),a=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0),e=t.__clientWidth,o=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(s/e)*e,t.__minDecelerationScrollTop=Math.floor(a/o)*o,t.__maxDecelerationScrollLeft=Math.ceil(s/e)*e,t.__maxDecelerationScrollTop=Math.ceil(a/o)*o}else t.__minDecelerationScrollLeft=0,t.__minDecelerationScrollTop=0,t.__maxDecelerationScrollLeft=t.__maxScrollLeft,t.__maxDecelerationScrollTop=t.__maxScrollTop;var c=function(n,s,a){t.__stepThroughDeceleration(a)},l=t.options.minVelocityToKeepDecelerating;l||(l=t.options.snapping?4:.001);var i=function(){var n=Math.abs(t.__decelerationVelocityX)>=l||Math.abs(t.__decelerationVelocityY)>=l;return n||(t.__didDecelerationComplete=!0),n},r=function(n,s,a){t.__isDecelerating=!1,t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping,null,t.__didDecelerationComplete&&t.options.scrollingComplete)};t.__isDecelerating=p["default"].start(c,i,r)},__stepThroughDeceleration:function(n){var t=this,s=t.__scrollLeft+t.__decelerationVelocityX,a=t.__scrollTop+t.__decelerationVelocityY;if(!t.options.bouncing){var e=Math.max(Math.min(t.__maxDecelerationScrollLeft,s),t.__minDecelerationScrollLeft);e!==s&&(s=e,t.__decelerationVelocityX=0);var o=Math.max(Math.min(t.__maxDecelerationScrollTop,a),t.__minDecelerationScrollTop);o!==a&&(a=o,t.__decelerationVelocityY=0)}if(n?t.__publish(s,a,t.__zoomLevel):(t.__scrollLeft=s,t.__scrollTop=a),!t.options.paging){var p=.95;t.__decelerationVelocityX*=p,t.__decelerationVelocityY*=p}if(t.options.bouncing){var c=0,l=0,i=t.options.penetrationDeceleration,r=t.options.penetrationAcceleration;s<t.__minDecelerationScrollLeft?c=t.__minDecelerationScrollLeft-s:s>t.__maxDecelerationScrollLeft&&(c=t.__maxDecelerationScrollLeft-s),a<t.__minDecelerationScrollTop?l=t.__minDecelerationScrollTop-a:a>t.__maxDecelerationScrollTop&&(l=t.__maxDecelerationScrollTop-a),0!==c&&(c*t.__decelerationVelocityX<=0?t.__decelerationVelocityX+=c*i:t.__decelerationVelocityX=c*r),0!==l&&(l*t.__decelerationVelocityY<=0?t.__decelerationVelocityY+=l*i:t.__decelerationVelocityY=l*r)}}};for(var u in r)e.prototype[u]=r[u];t["default"]=e,n.exports=t["default"]},203:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var e=s(2),o=a(e),p=s(3),c=a(p),l=s(5),i=a(l),r=s(4),u=a(r),d=s(1),k=a(d),h=s(227),f=a(h),_=s(233),g=a(_),m=s(300),v=a(m),y=function(n){function t(){(0,c["default"])(this,t);var s=(0,i["default"])(this,n.apply(this,arguments));return s.scrollTo=function(){var n;return(n=s.listviewRef).scrollTo.apply(n,arguments)},s.getInnerViewNode=function(){return s.listviewRef.getInnerViewNode()},s}return(0,u["default"])(t,n),t.prototype.render=function(){var n=this,t=(0,g["default"])(this.props,!1),s=t.restProps,a=t.extraProps,e=this.props,p=e.useZscroller,c=e.refreshControl;return c&&(p=!0),k["default"].createElement(f["default"],(0,o["default"])({ref:function(t){return n.listviewRef=t}},s,a,{useZscroller:p}))},t}(k["default"].Component);t["default"]=y,y.defaultProps={prefixCls:"am-list-view",listPrefixCls:"am-list"},y.DataSource=f["default"].DataSource,y.IndexedList=v["default"],n.exports=t["default"]},204:function(n,t,s){"use strict";s(6),s(24),s(331)},227:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0}),t.RefreshControl=t.IndexedList=t.DataSource=void 0;var e=s(259),o=a(e),p=s(365),c=a(p),l=s(367),i=a(l);o["default"].IndexedList=c["default"],o["default"].RefreshControl=i["default"];var r=o["default"].DataSource;t.DataSource=r,t.IndexedList=c["default"],t.RefreshControl=i["default"],t["default"]=o["default"]},233:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){var s=n.renderHeader,a=n.renderFooter,e=n.renderSectionHeader,o=n.renderBodyComponent,c=i(n,["renderHeader","renderFooter","renderSectionHeader","renderBodyComponent"]),l=n.listPrefixCls,u={renderHeader:null,renderFooter:null,renderSectionHeader:null,renderBodyComponent:o||function(){return p["default"].createElement("div",{className:l+"-body"})}};return s&&(u.renderHeader=function(){return p["default"].createElement("div",{className:l+"-header"},s())}),a&&(u.renderFooter=function(){return p["default"].createElement("div",{className:l+"-footer"},a())}),e&&(u.renderSectionHeader=t?function(n,t){return p["default"].createElement("div",null,p["default"].createElement(r,{prefixCls:l},e(n,t)))}:function(n,t){return p["default"].createElement(r,{prefixCls:l},e(n,t))}),{restProps:c,extraProps:u}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=e;var o=s(1),p=a(o),c=s(41),l=a(c),i=function(n,t){var s={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(s[a]=n[a]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,a=Object.getOwnPropertySymbols(n);e<a.length;e++)t.indexOf(a[e])<0&&(s[a[e]]=n[a[e]]);return s},r=l["default"].Item;n.exports=t["default"]},259:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=s(2),o=a(e),p=s(48),c=a(p),l=s(3),i=a(l),r=s(8),u=a(r),d=s(5),k=a(d),h=s(4),f=a(h),_=s(1),g=a(_),m=s(21),v=a(m),y=s(1),S=a(y),w=s(366),b=a(w),T=s(368),R=a(T),C=1,x=10,E=1e3,L=1e3,D=50,M=function(n){function t(){return(0,i["default"])(this,t),(0,k["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f["default"])(t,n),(0,u["default"])(t,[{key:"shouldComponentUpdate",value:function(n){return n.shouldUpdate}},{key:"render",value:function(){return this.props.render()}}]),t}(g["default"].Component),P=function(n){function t(){var n,s,a,e;(0,i["default"])(this,t);for(var o=arguments.length,p=Array(o),c=0;c<o;c++)p[c]=arguments[c];return s=a=(0,k["default"])(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(p))),z.call(a),e=s,(0,k["default"])(a,e)}return(0,f["default"])(t,n),(0,u["default"])(t,[{key:"componentWillMount",value:function(){this.scrollProperties={visibleLength:null,contentLength:null,offset:0},this._childFrames=[],this._visibleRows={},this._prevRenderedRowsCount=0,this._sentEndForContentLength=null}},{key:"componentWillReceiveProps",value:function(n){var t=this;this.props.dataSource===n.dataSource&&this.props.initialListSize===n.initialListSize||this.setState(function(s,a){return t._prevRenderedRowsCount=0,{curRenderedRowsCount:Math.min(Math.max(s.curRenderedRowsCount,n.initialListSize),n.dataSource.getRowCount())}},function(){return t._renderMoreRowsIfNeeded()})}},{key:"render",value:function(){for(var n=this,t=this.props.dataSource,s=t.rowIdentities,a=[],e=0,p=0;p<s.length;p++){var l=t.sectionIdentities[p],i=s[p];if(0!==i.length){var r=void 0;if(this.props.renderSectionHeader){var u=e>=this._prevRenderedRowsCount&&t.sectionHeaderShouldUpdate(p);r=g["default"].createElement(M,{key:"s_"+l,shouldUpdate:!!u,render:this.props.renderSectionHeader.bind(null,t.getSectionHeaderData(p),l)})}for(var d=[],k=0;k<i.length;k++){var h=i[k],f=l+"_"+h,_=e>=this._prevRenderedRowsCount&&t.rowShouldUpdate(p,k),m=g["default"].createElement(M,{key:"r_"+f,shouldUpdate:!!_,render:this.props.renderRow.bind(null,t.getRowData(p,k),l,h,this.onRowHighlighted)});if(d.push(m),this.props.renderSeparator&&(k!==i.length-1||p===s.length-1)){var v=this.state.highlightedRow.sectionID===l&&(this.state.highlightedRow.rowID===h||this.state.highlightedRow.rowID===i[k+1]),y=this.props.renderSeparator(l,h,v);y&&d.push(y)}if(++e===this.state.curRenderedRowsCount)break}var S=g["default"].cloneElement(this.props.renderSectionBodyWrapper(l),{className:this.props.sectionBodyClassName},d);if(this.props.renderSectionWrapper?a.push(g["default"].cloneElement(this.props.renderSectionWrapper(l),{},r,S)):(a.push(r),a.push(S)),e>=this.state.curRenderedRowsCount)break}}var w=this.props,b=w.renderScrollComponent,T=(0,c["default"])(w,["renderScrollComponent"]);return this._sc=g["default"].cloneElement(b((0,o["default"])({},T,{onScroll:this._onScroll})),{ref:function(t){return n.ListViewRef=t},onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout},this.props.renderHeader?this.props.renderHeader():null,g["default"].cloneElement(T.renderBodyComponent(),{},a),this.props.renderFooter?this.props.renderFooter():null,T.children),this._sc}}]),t}(g["default"].Component);P.DataSource=b["default"],P.propTypes=(0,o["default"])({},R["default"].propTypes,{dataSource:v["default"].instanceOf(b["default"]).isRequired,renderSeparator:v["default"].func,renderRow:v["default"].func.isRequired,initialListSize:v["default"].number,onEndReached:v["default"].func,onEndReachedThreshold:v["default"].number,pageSize:v["default"].number,renderFooter:v["default"].func,renderHeader:v["default"].func,renderSectionHeader:v["default"].func,renderScrollComponent:v["default"].func,scrollRenderAheadDistance:v["default"].number,onChangeVisibleRows:v["default"].func,scrollEventThrottle:v["default"].number,renderBodyComponent:v["default"].func,renderSectionWrapper:v["default"].func,renderSectionBodyWrapper:v["default"].func,sectionBodyClassName:v["default"].string,listViewPrefixCls:v["default"].string,useZscroller:v["default"].bool,useBodyScroll:v["default"].bool,pullUpEnabled:v["default"].bool,pullUpRefreshing:v["default"].bool,pullUpOnRefresh:v["default"].func,pullUpDistanceToRefresh:v["default"].number,pullUpRenderer:v["default"].func}),P.defaultProps={initialListSize:x,pageSize:C,renderScrollComponent:function(n){return g["default"].createElement(R["default"],n)},renderBodyComponent:function(){return g["default"].createElement("div",null)},renderSectionBodyWrapper:function(n){return g["default"].createElement("div",{key:n})},sectionBodyClassName:"list-view-section-body",listViewPrefixCls:"rmc-list-view",scrollRenderAheadDistance:E,onEndReachedThreshold:L,scrollEventThrottle:D,scrollerOptions:{},pullUpEnabled:!1,pullUpRefreshing:!1,pullUpOnRefresh:function(){},pullUpDistanceToRefresh:25};var z=function(){var n=this;this.state={curRenderedRowsCount:this.props.initialListSize,highlightedRow:{}},this.getMetrics=function(){return{contentLength:n.scrollProperties.contentLength,totalRows:n.props.dataSource.getRowCount(),renderedRows:n.state.curRenderedRowsCount,visibleRows:Object.keys(n._visibleRows).length}},this.scrollTo=function(){var t;n.ListViewRef&&n.ListViewRef.scrollTo&&(t=n.ListViewRef).scrollTo.apply(t,arguments)},this.getInnerViewNode=function(){return n.ListViewRef.getInnerViewNode()},this.onRowHighlighted=function(t,s){n.setState({highlightedRow:{sectionID:t,rowID:s}})},this._onContentSizeChange=function(t,s){var a=n.props.horizontal?t:s;a!==n.scrollProperties.contentLength&&(n.scrollProperties.contentLength=a,n._renderMoreRowsIfNeeded()),n.props.onContentSizeChange&&n.props.onContentSizeChange(t,s)},this._onLayout=function(t){var s=t.nativeEvent.layout,a=s.width,e=s.height,o=n.props.horizontal?a:e;o!==n.scrollProperties.visibleLength&&(n.scrollProperties.visibleLength=o,n._renderMoreRowsIfNeeded()),n.props.onLayout&&n.props.onLayout(t)},this._maybeCallOnEndReached=function(t){return!!(n.props.onEndReached&&n.scrollProperties.contentLength!==n._sentEndForContentLength&&n._getDistanceFromEnd(n.scrollProperties)<n.props.onEndReachedThreshold&&n.state.curRenderedRowsCount===n.props.dataSource.getRowCount())&&(n._sentEndForContentLength=n.scrollProperties.contentLength,n.props.onEndReached(t),!0)},this._renderMoreRowsIfNeeded=function(){if(null===n.scrollProperties.contentLength||null===n.scrollProperties.visibleLength||n.state.curRenderedRowsCount===n.props.dataSource.getRowCount())return void n._maybeCallOnEndReached();var t=n._getDistanceFromEnd(n.scrollProperties);t<n.props.scrollRenderAheadDistance&&n._pageInNewRows()},this._pageInNewRows=function(){n.setState(function(t,s){var a=Math.min(t.curRenderedRowsCount+s.pageSize,s.dataSource.getRowCount());return n._prevRenderedRowsCount=t.curRenderedRowsCount,{curRenderedRowsCount:a}},function(){n._prevRenderedRowsCount=n.state.curRenderedRowsCount})},this._getDistanceFromEnd=function(n){return n.contentLength-n.visibleLength-n.offset},this._onScroll=function(t){var s=!n.props.horizontal,a=t;if(n.ListViewRef){var e=S["default"].findDOMNode(n.ListViewRef);if(n.props.useBodyScroll){n.scrollProperties.visibleLength=window[s?"innerHeight":"innerWidth"],n.scrollProperties.contentLength=e[s?"scrollHeight":"scrollWidth"];var o=document.scrollingElement?document.scrollingElement:document.body;n.scrollProperties.offset=o[s?"scrollTop":"scrollLeft"]}else if(n.props.useZscroller){var p=n.ListViewRef.domScroller;a=p,n.scrollProperties.visibleLength=p.container[s?"clientHeight":"clientWidth"],n.scrollProperties.contentLength=p.content[s?"offsetHeight":"offsetWidth"],n.scrollProperties.offset=p.scroller.getValues()[s?"top":"left"]}else n.scrollProperties.visibleLength=e[s?"offsetHeight":"offsetWidth"],n.scrollProperties.contentLength=e[s?"scrollHeight":"scrollWidth"],n.scrollProperties.offset=e[s?"scrollTop":"scrollLeft"];n._maybeCallOnEndReached(a)||n._renderMoreRowsIfNeeded(),n.props.onEndReached&&n._getDistanceFromEnd(n.scrollProperties)>n.props.onEndReachedThreshold&&(n._sentEndForContentLength=null),n.props.onScroll&&n.props.onScroll(a)}}};t["default"]=P,n.exports=t["default"]},260:function(n,t){"use strict";function s(n){var t=0;do isNaN(n.offsetTop)||(t+=n.offsetTop);while(n=n.offsetParent);return t}function a(n){return n.touches&&n.touches.length?n.touches[0]:n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n}function e(n,t){var s=!0,a=!0;return function(e){s&&(s=!1,setTimeout(function(){s=!0,n(e)},t),a&&(n(e),a=!1))}}function o(n,t){n.transform=t,n.webkitTransform=t,n.MozTransform=t}function p(n,t){n.transformOrigin=t,n.webkitTransformOrigin=t,n.MozTransformOrigin=t}Object.defineProperty(t,"__esModule",{value:!0}),t.getOffsetTop=s,t._event=a,t.throttle=e,t.setTransform=o,t.setTransformOrigin=p},300:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var e=s(2),o=a(e),p=s(3),c=a(p),l=s(5),i=a(l),r=s(4),u=a(r),d=s(1),k=a(d),h=s(227),f=a(h),_=s(233),g=a(_),m=f["default"].IndexedList,v=function(n){function t(){return(0,c["default"])(this,t),(0,i["default"])(this,n.apply(this,arguments))}return(0,u["default"])(t,n),t.prototype.render=function(){var n=this,t=this.props,s=t.prefixCls,a=t.listPrefixCls,e=(0,g["default"])(this.props,!0),p=e.restProps,c=e.extraProps;return k["default"].createElement(m,(0,
o["default"])({ref:function(t){return n.indexedListRef=t},sectionHeaderClassName:s+"-section-header "+a+"-body",sectionBodyClassName:s+"-section-body "+a+"-body"},p,c),this.props.children)},t}(k["default"].Component);t["default"]=v,v.defaultProps={prefixCls:"am-indexed-list",listPrefixCls:"am-list",listViewPrefixCls:"am-list-view"},n.exports=t["default"]},331:function(n,t){},339:function(n,t,s){"use strict";function a(n){if(Array.isArray(n))return 0===n.length;if("object"==typeof n){if(n){e(n)&&void 0!==n.size?o(!1):void 0;for(var t in n)return!1}return!0}return!n}function e(n){return"undefined"!=typeof Symbol&&n[Symbol.iterator]}var o=s(241);n.exports=a},365:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}function e(n){window.document.body.scrollTop=n,window.document.documentElement.scrollTop=n}Object.defineProperty(t,"__esModule",{value:!0});var o=s(10),p=a(o),c=s(2),l=a(c),i=s(48),r=a(i),u=s(3),d=a(u),k=s(8),h=a(k),f=s(5),_=a(f),g=s(4),m=a(g),v=s(1),y=a(v),S=s(21),w=a(S),b=s(1),T=a(b),R=s(7),C=a(R),x=s(259),E=a(x),L=s(260),D=function(n){function t(n){(0,d["default"])(this,t);var s=(0,_["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return M.call(s),s.state={pageSize:n.pageSize,_delay:!1},s}return(0,m["default"])(t,n),(0,h["default"])(t,[{key:"componentDidMount",value:function(){this.dataChange(this.props),this.getQsInfo()}},{key:"componentWillReceiveProps",value:function(n){this.props.dataSource!==n.dataSource&&this.dataChange(n)}},{key:"componentDidUpdate",value:function(){this.getQsInfo()}},{key:"componentWillUnmount",value:function(){this._timer&&clearTimeout(this._timer),this._hCache=null}},{key:"renderQuickSearchBar",value:function(n,t){var s=this,a=this.props,e=a.dataSource,o=a.prefixCls,p=e.sectionIdentities.map(function(n){return{value:n,label:e._getSectionHeaderData(e._dataBlob,n)}});return y["default"].createElement("ul",{ref:function(n){return s.quickSearchBarRef=n},className:o+"-quick-search-bar",style:t,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchEnd},y["default"].createElement("li",{"data-qf-target":n.value,onClick:function(){return s.onQuickSearchTop(void 0,n.value)}},n.label),p.map(function(n){return y["default"].createElement("li",{key:n.value,"data-qf-target":n.value,onClick:function(){return s.onQuickSearch(n.value)}},n.label)}))}},{key:"render",value:function(){var n,t=this,s=this.state,a=s._delay,e=s.pageSize,o=this.props,c=o.className,i=o.prefixCls,u=o.children,d=o.quickSearchBarTop,k=o.quickSearchBarStyle,h=o.initialListSize,f=void 0===h?Math.min(20,this.props.dataSource.getRowCount()):h,_=o.showQuickSearchIndicator,g=o.renderSectionHeader,m=o.sectionHeaderClassName,v=(0,r["default"])(o,["className","prefixCls","children","quickSearchBarTop","quickSearchBarStyle","initialListSize","showQuickSearchIndicator","renderSectionHeader","sectionHeaderClassName"]);return y["default"].createElement("div",{className:i+"-container"},a&&this.props.delayActivityIndicator,y["default"].createElement(E["default"],(0,l["default"])({},v,{ref:function(n){return t.indexedListViewRef=n},className:(0,C["default"])(i,c),initialListSize:f,pageSize:e,renderSectionHeader:function(n,s){return y["default"].cloneElement(g(n,s),{ref:function(n){return t.sectionComponents[s]=n},className:m||i+"-section-header"})}}),u),this.renderQuickSearchBar(d,k),_?y["default"].createElement("div",{className:(0,C["default"])((n={},(0,p["default"])(n,i+"-qsindicator",!0),(0,p["default"])(n,i+"-qsindicator-hide",!_||!this.state.showQuickSearchIndicator),n)),ref:function(n){return t.qsIndicatorRef=n}}):null)}}]),t}(y["default"].Component);D.propTypes=(0,l["default"])({},E["default"].propTypes,{children:w["default"].any,prefixCls:w["default"].string,className:w["default"].string,sectionHeaderClassName:w["default"].string,quickSearchBarTop:w["default"].object,quickSearchBarStyle:w["default"].object,onQuickSearch:w["default"].func,showQuickSearchIndicator:w["default"].bool}),D.defaultProps={prefixCls:"rmc-indexed-list",quickSearchBarTop:{value:"#",label:"#"},onQuickSearch:function(){},showQuickSearchIndicator:!1,delayTime:100,delayActivityIndicator:""};var M=function(){var n=this;this.onQuickSearchTop=function(t,s){n.props.useBodyScroll?e(0):T["default"].findDOMNode(n.indexedListViewRef.ListViewRef).scrollTop=0,n.props.onQuickSearch(t,s)},this.onQuickSearch=function(t){var s=T["default"].findDOMNode(n.indexedListViewRef.ListViewRef),a=T["default"].findDOMNode(n.sectionComponents[t]);n.props.useBodyScroll?e(a.getBoundingClientRect().top-s.getBoundingClientRect().top+(0,L.getOffsetTop)(s)):s.scrollTop+=a.getBoundingClientRect().top-s.getBoundingClientRect().top,n.props.onQuickSearch(t)},this.onTouchStart=function(t){n._target=t.target,n._basePos=n.quickSearchBarRef.getBoundingClientRect(),document.addEventListener("touchmove",n._disableParent,!1),document.body.className=document.body.className+" "+n.props.prefixCls+"-qsb-moving",n.updateIndicator(n._target)},this.onTouchMove=function(t){if(t.preventDefault(),n._target){var s=(0,L._event)(t),a=n._basePos,e=void 0;if(s.clientY>=a.top&&s.clientY<=a.top+n._qsHeight){e=Math.floor((s.clientY-a.top)/n._avgH);var o=void 0;if(e in n._hCache&&(o=n._hCache[e][0]),o){var p=o.getAttribute("data-qf-target");n._target!==o&&(n.props.quickSearchBarTop.value===p?n.onQuickSearchTop(void 0,p):n.onQuickSearch(p),n.updateIndicator(o)),n._target=o}}}},this.onTouchEnd=function(){n._target&&(document.removeEventListener("touchmove",n._disableParent,!1),document.body.className=document.body.className.replace(new RegExp("\\s*"+n.props.prefixCls+"-qsb-moving","g"),""),n.updateIndicator(n._target,!0),n._target=null)},this.getQsInfo=function(){var t=n.quickSearchBarRef,s=t.offsetHeight,a=[];[].slice.call(t.querySelectorAll("[data-qf-target]")).forEach(function(n){a.push([n])});for(var e=s/a.length,o=0,p=0,c=a.length;p<c;p++)o=p*e,a[p][1]=[o,o+e];n._qsHeight=s,n._avgH=e,n._hCache=a},this.sectionComponents={},this.dataChange=function(t){var s=t.dataSource.getRowCount();s&&(n.setState({_delay:!0}),n._timer&&clearTimeout(n._timer),n._timer=setTimeout(function(){n.setState({pageSize:s,_delay:!1},function(){return n.indexedListViewRef._pageInNewRows()})},t.delayTime))},this.updateIndicator=function(t,s){var a=t;a.getAttribute("data-qf-target")||(a=a.parentNode),n.props.showQuickSearchIndicator&&(n.qsIndicatorRef.innerText=a.innerText.trim(),n.setState({showQuickSearchIndicator:!0}),n._indicatorTimer&&clearTimeout(n._indicatorTimer),n._indicatorTimer=setTimeout(function(){n.setState({showQuickSearchIndicator:!1})},1e3));var e=n.props.prefixCls+"-quick-search-bar-over";n._hCache.forEach(function(n){n[0].className=n[0].className.replace(e,"")}),s||(a.className=a.className+" "+e)},this._disableParent=function(n){n.preventDefault(),n.stopPropagation()}};t["default"]=D,n.exports=t["default"]},366:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}function e(n,t,s){return n[t][s]}function o(n,t){return n[t]}function p(n){for(var t=0,s=0;s<n.length;s++){var a=n[s];t+=a.length}return t}function c(n){if((0,f["default"])(n))return{};for(var t={},s=0;s<n.length;s++){var a=n[s];(0,g["default"])(!t[a],"Value appears more than once in array: "+a),t[a]=!0}return t}Object.defineProperty(t,"__esModule",{value:!0});var l=s(3),i=a(l),r=s(8),u=a(r),d=s(241),k=a(d),h=s(339),f=a(h),_=s(62),g=a(_),m=function(){function n(t){(0,i["default"])(this,n),(0,k["default"])(t&&"function"==typeof t.rowHasChanged,"Must provide a rowHasChanged function."),this._rowHasChanged=t.rowHasChanged,this._getRowData=t.getRowData||e,this._sectionHeaderHasChanged=t.sectionHeaderHasChanged,this._getSectionHeaderData=t.getSectionHeaderData||o,this._dataBlob=null,this._dirtyRows=[],this._dirtySections=[],this._cachedRowCount=0,this.rowIdentities=[],this.sectionIdentities=[]}return(0,u["default"])(n,[{key:"cloneWithRows",value:function(n,t){var s=t?[t]:null;return this._sectionHeaderHasChanged||(this._sectionHeaderHasChanged=function(){return!1}),this.cloneWithRowsAndSections({s1:n},["s1"],s)}},{key:"cloneWithRowsAndSections",value:function(t,s,a){(0,k["default"])("function"==typeof this._sectionHeaderHasChanged,"Must provide a sectionHeaderHasChanged function with section data."),(0,k["default"])(!s||!a||s.length===a.length,"row and section ids lengths must be the same");var e=new n({getRowData:this._getRowData,getSectionHeaderData:this._getSectionHeaderData,rowHasChanged:this._rowHasChanged,sectionHeaderHasChanged:this._sectionHeaderHasChanged});return e._dataBlob=t,s?e.sectionIdentities=s:e.sectionIdentities=Object.keys(t),a?e.rowIdentities=a:(e.rowIdentities=[],e.sectionIdentities.forEach(function(n){e.rowIdentities.push(Object.keys(t[n]))})),e._cachedRowCount=p(e.rowIdentities),e._calculateDirtyArrays(this._dataBlob,this.sectionIdentities,this.rowIdentities),e}},{key:"getRowCount",value:function(){return this._cachedRowCount}},{key:"getRowAndSectionCount",value:function(){return this._cachedRowCount+this.sectionIdentities.length}},{key:"rowShouldUpdate",value:function(n,t){var s=this._dirtyRows[n][t];return(0,g["default"])(void 0!==s,"missing dirtyBit for section, row: "+n+", "+t),s}},{key:"getRowData",value:function(n,t){var s=this.sectionIdentities[n],a=this.rowIdentities[n][t];return(0,g["default"])(void 0!==s&&void 0!==a,"rendering invalid section, row: "+n+", "+t),this._getRowData(this._dataBlob,s,a)}},{key:"getRowIDForFlatIndex",value:function(n){for(var t=n,s=0;s<this.sectionIdentities.length;s++){if(!(t>=this.rowIdentities[s].length))return this.rowIdentities[s][t];t-=this.rowIdentities[s].length}return null}},{key:"getSectionIDForFlatIndex",value:function(n){for(var t=n,s=0;s<this.sectionIdentities.length;s++){if(!(t>=this.rowIdentities[s].length))return this.sectionIdentities[s];t-=this.rowIdentities[s].length}return null}},{key:"getSectionLengths",value:function(){for(var n=[],t=0;t<this.sectionIdentities.length;t++)n.push(this.rowIdentities[t].length);return n}},{key:"sectionHeaderShouldUpdate",value:function(n){var t=this._dirtySections[n];return(0,g["default"])(void 0!==t,"missing dirtyBit for section: "+n),t}},{key:"getSectionHeaderData",value:function(n){if(!this._getSectionHeaderData)return null;var t=this.sectionIdentities[n];return(0,g["default"])(void 0!==t,"renderSection called on invalid section: "+n),this._getSectionHeaderData(this._dataBlob,t)}},{key:"_calculateDirtyArrays",value:function(n,t,s){for(var a=c(t),e={},o=0;o<s.length;o++){var p=t[o];(0,g["default"])(!e[p],"SectionID appears more than once: "+p),e[p]=c(s[o])}this._dirtySections=[],this._dirtyRows=[];for(var l,i=0;i<this.sectionIdentities.length;i++){var p=this.sectionIdentities[i];l=!a[p];var r=this._sectionHeaderHasChanged;!l&&r&&(l=r(this._getSectionHeaderData(n,p),this._getSectionHeaderData(this._dataBlob,p))),this._dirtySections.push(!!l),this._dirtyRows[i]=[];for(var u=0;u<this.rowIdentities[i].length;u++){var d=this.rowIdentities[i][u];l=!a[p]||!e[p][d]||this._rowHasChanged(this._getRowData(n,p,d),this._getRowData(this._dataBlob,p,d)),this._dirtyRows[i].push(!!l)}}}}]),n}();t["default"]=m,n.exports=t["default"]},367:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=s(10),o=a(e),p=s(3),c=a(p),l=s(8),i=a(l),r=s(5),u=a(r),d=s(4),k=a(d),h=s(1),f=a(h),_=s(21),g=a(_),m=s(7),v=a(m),y={prefixCls:g["default"].string,className:g["default"].string,style:g["default"].object,icon:g["default"].any,loading:g["default"].any,distanceToRefresh:g["default"].number,refreshing:g["default"].bool,onRefresh:g["default"].func.isRequired},S=function(n){function t(n){(0,c["default"])(this,t);var s=(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return s.state={active:!1,deactive:!1,loadingState:!1},s}return(0,k["default"])(t,n),(0,i["default"])(t,[{key:"render",value:function(){var n,t=this,s=this.props,a=s.prefixCls,e=s.className,p=s.style,c=s.icon,l=s.loading,i=s.refreshing,r=this.state,u=r.active,d=r.deactive,k=r.loadingState,h=(0,v["default"])(e,(n={},(0,o["default"])(n,a+"-indicator",!0),(0,o["default"])(n,a+"-active",u),(0,o["default"])(n,a+"-deactive",d),(0,o["default"])(n,a+"-loading",k||i),n));return f["default"].createElement("div",{ref:function(n){return t.ptrRef=n},className:h,style:p},f["default"].createElement("div",{className:a+"-indicator-icon-wrapper"},c),f["default"].createElement("div",{className:a+"-indicator-loading-wrapper"},l))}}]),t}(f["default"].Component);S.propTypes=y,S.defaultProps={prefixCls:"list-view-refresh-control",distanceToRefresh:50,refreshing:!1,icon:[f["default"].createElement("div",{key:"0",className:"list-view-refresh-control-pull"},"\u2193 \u4e0b\u62c9"),f["default"].createElement("div",{key:"1",className:"list-view-refresh-control-release"},"\u2191 \u91ca\u653e")],loading:f["default"].createElement("div",null,"loading...")},t["default"]=S,n.exports=t["default"]},368:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=s(2),o=a(e),p=s(48),c=a(p),l=s(3),i=a(l),r=s(8),u=a(r),d=s(5),k=a(d),h=s(4),f=a(h),_=s(1),g=a(_),m=s(21),v=a(m),y=s(1),S=a(y),w=s(81),b=a(w),T=s(7),R=a(T),C=s(260),x={children:v["default"].any,className:v["default"].string,prefixCls:v["default"].string,listPrefixCls:v["default"].string,listViewPrefixCls:v["default"].string,style:v["default"].object,contentContainerStyle:v["default"].object,onScroll:v["default"].func,scrollEventThrottle:v["default"].number,refreshControl:v["default"].element},E={base:{position:"relative",overflow:"auto",WebkitOverflowScrolling:"touch",flex:1},zScroller:{position:"relative",overflow:"hidden",flex:1}},L=function(n){function t(){var n,s,a,e;(0,i["default"])(this,t);for(var o=arguments.length,p=Array(o),c=0;c<o;c++)p[c]=arguments[c];return s=a=(0,k["default"])(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(p))),D.call(a),e=s,(0,k["default"])(a,e)}return(0,f["default"])(t,n),(0,u["default"])(t,[{key:"componentWillUpdate",value:function(n){this.props.dataSource===n.dataSource&&this.props.initialListSize===n.initialListSize||!this.tsExec||(this.props.useBodyScroll?window.removeEventListener("scroll",this.tsExec):this.props.useZscroller||S["default"].findDOMNode(this.ScrollViewRef).removeEventListener("scroll",this.tsExec))}},{key:"componentDidUpdate",value:function(n){var t=this;if(n.refreshControl&&this.props.refreshControl){var s=n.refreshControl.props.refreshing,a=this.props.refreshControl.props.refreshing;!s||a||this._refreshControlTimer?this.manuallyRefresh||s||!a||this.domScroller.scroller.triggerPullToRefresh():this.domScroller.scroller.finishPullToRefresh()}if(this.props.dataSource===n.dataSource&&this.props.initialListSize===n.initialListSize||!this.tsExec||setTimeout(function(){t.props.useBodyScroll?window.addEventListener("scroll",t.tsExec):t.props.useZscroller||S["default"].findDOMNode(t.ScrollViewRef).addEventListener("scroll",t.tsExec)},0),this.props.pullUpEnabled){var e=n.pullUpRefreshing,o=this.props.pullUpRefreshing;!e||o||this._pullUpTimer||this.pullUpFinish()}}},{key:"componentDidMount",value:function(){var n=this;if(this.tsExec=this.throttleScroll(),this.onLayout=function(){return n.props.onLayout({nativeEvent:{layout:{width:window.innerWidth,height:window.innerHeight}}})},this.props.useBodyScroll)window.addEventListener("scroll",this.tsExec),window.addEventListener("resize",this.onLayout),this.initPullUp(document.body);else if(this.props.useZscroller)this.renderZscroller();else{var t=S["default"].findDOMNode(this.ScrollViewRef);t.addEventListener("scroll",this.tsExec),this.initPullUp(t)}}},{key:"componentWillUnmount",value:function(){if(this.props.useBodyScroll)window.removeEventListener("scroll",this.tsExec),window.removeEventListener("resize",this.onLayout),this.destroyPullUp(document.body);else if(this.props.useZscroller)this.domScroller.destroy();else{var n=S["default"].findDOMNode(this.ScrollViewRef);n.removeEventListener("scroll",this.tsExec),this.destroyPullUp(n)}}},{key:"renderZscroller",value:function(){var n=this,t=this.props,s=t.scrollerOptions,a=t.refreshControl,e=s.scrollingComplete,p=s.onScroll,l=(0,c["default"])(s,["scrollingComplete","onScroll"]);if(this.domScroller=new b["default"](this.getInnerViewNode(),(0,o["default"])({scrollingX:!1,onScroll:function(){n.tsExec(),p&&p()},scrollingComplete:function(){n.scrollingComplete(),e&&e()}},l)),a){var i=this.domScroller.scroller,r=a.props,u=r.distanceToRefresh,d=r.onRefresh;i.activatePullToRefresh(u,function(){n.manuallyRefresh=!0,n.overDistanceThenRelease=!1,n.RefreshControlRef&&n.RefreshControlRef.setState({active:!0})},function(){n.manuallyRefresh=!1,n.RefreshControlRef&&n.RefreshControlRef.setState({deactive:n.overDistanceThenRelease,active:!1,loadingState:!1})},function(){n.overDistanceThenRelease=!0,n.RefreshControlRef&&n.RefreshControlRef.setState({deactive:!1,loadingState:!0}),n._refreshControlTimer=setTimeout(function(){n.props.refreshControl.props.refreshing||i.finishPullToRefresh(),n._refreshControlTimer=void 0},1e3),d()}),a.props.refreshing&&i.triggerPullToRefresh()}}},{key:"render",value:function(){var n=this,t=this.props,s=t.children,a=t.className,e=t.prefixCls,p=t.listPrefixCls,c=t.listViewPrefixCls,l=t.style,i=void 0===l?{}:l,r=t.contentContainerStyle,u=void 0===r?{}:r,d=t.useZscroller,k=t.refreshControl,h=t.useBodyScroll,f=t.pullUpEnabled,_=t.pullUpRenderer,m=E.base;h?m={}:d&&(m=E.zScroller);var v=e||c||"",y={ref:function(t){return n.ScrollViewRef=t},style:(0,o["default"])({},m,i),className:(0,R["default"])(a,v+"-scrollview")},S={ref:function(t){return n.InnerScrollViewRef=t},style:(0,o["default"])({position:"absolute",minWidth:"100%"},u),className:(0,R["default"])(v+"-scrollview-content",p)};if(k)return g["default"].createElement("div",y,g["default"].createElement("div",S,g["default"].cloneElement(k,{ref:function(t){return n.RefreshControlRef=t}}),s));var w=function(){var t=(0,R["default"])(v+"-pull-up-content",!n.state.isTouching&&v+"-pull-up-dropped"),a=n.pullUpDisplay.deactivate;switch(n.state.pullUp){case"activate":case"deactivate":case"release":case"finish":default:a=n.pullUpDisplay[n.state.pullUp]}return g["default"].createElement("div",{className:t,ref:function(t){return n.pullUpContentRef=t}},s,g["default"].createElement("div",{ref:function(t){return n.pullUpIndicatorRef=t},className:v+"-pull-up-indicator"},_?_(n.state.pullUp):a))};return h?f?(y.style.overflow="hidden",g["default"].createElement("div",y,w())):g["default"].createElement("div",y,s):f?(S.style.overflow="hidden",g["default"].createElement("div",y,g["default"].createElement("div",S,w()))):g["default"].createElement("div",y,g["default"].createElement("div",S,s))}}]),t}(g["default"].Component);L.propTypes=x;var D=function(){var n=this;this.getInnerViewNode=function(){return S["default"].findDOMNode(n.InnerScrollViewRef)},this.scrollTo=function(){if(n.props.useBodyScroll){var t;(t=window).scrollTo.apply(t,arguments)}else if(n.props.useZscroller){var s;n.domScroller.reflow(),(s=n.domScroller.scroller).scrollTo.apply(s,arguments)}else{var a=S["default"].findDOMNode(n.ScrollViewRef);a.scrollLeft=arguments.length<=0?void 0:arguments[0],a.scrollTop=arguments.length<=1?void 0:arguments[1]}},this.throttleScroll=function(){var t=function(){};return n.props.scrollEventThrottle&&n.props.onScroll&&(t=(0,C.throttle)(function(t){n.props.onScroll&&n.props.onScroll(t)},n.props.scrollEventThrottle)),t},this.scrollingComplete=function(){n.props.refreshControl&&n.RefreshControlRef&&n.RefreshControlRef.state.deactive&&n.RefreshControlRef.setState({deactive:!1})},this.state={pullUp:!1,isTouching:!1},this.pullUpStats={activate:"activate",deactivate:"deactivate",release:"release",finish:"finish"},this.pullUpDisplay={activate:"\u91ca\u653e\u5237\u65b0",deactivate:"\u4e0a\u62c9 \u2191",release:"\u52a0\u8f7d\u4e2d...",finish:"\u5b8c\u6210\u5237\u65b0"},this.genEvtHandler=function(t){return{touchstart:n.onTouchStart.bind(n,t),touchmove:n.onTouchMove.bind(n,t),touchend:n.onTouchEnd.bind(n,t),touchcancel:n.onTouchEnd.bind(n,t)}},this.initPullUp=function(t){n.pullUpContentRef&&(0,C.setTransformOrigin)(n.pullUpContentRef.style,"left top"),n._to=n.genEvtHandler(t),Object.keys(n._to).forEach(function(s){t.addEventListener(s,n._to[s])})},this.destroyPullUp=function(t){Object.keys(n._to).forEach(function(s){t.removeEventListener(s,n._to[s])})},this.onTouchStart=function(t,s){n._pullUpScreenY=n._pullUpStartScreenY=s.touches[0].screenY,n._pullUpLastScreenY=0,n.props.pullUpEnabled&&n.setState({isTouching:!0})},this.onTouchMove=function(t,s){if(n.props.pullUpEnabled){var a=s.touches[0].screenY;if(n._pullUpStartScreenY-a>0){var e=void 0;if(n.props.useBodyScroll){var o=document.scrollingElement?document.scrollingElement:t;e=t.scrollHeight-o.scrollTop<=window.innerHeight}else e=t.scrollHeight-t.scrollTop===t.clientHeight;if(e){var p=Math.round(a-n._pullUpScreenY);n._pullUpScreenY=a,n._pullUpLastScreenY+=p,(0,C.setTransform)(n.pullUpContentRef.style,"translate3d(0px,"+n._pullUpLastScreenY+"px,0)"),Math.abs(n._pullUpLastScreenY)<n.props.pullUpDistanceToRefresh?n.state.pullUp!==n.pullUpStats.deactivate&&n.setState({pullUp:n.pullUpStats.deactivate}):n.state.pullUp===n.pullUpStats.deactivate&&n.setState({pullUp:n.pullUpStats.activate})}}}},this.onTouchEnd=function(){n.props.pullUpEnabled&&n.setState({isTouching:!1}),n.state.pullUp===n.pullUpStats.deactivate?n.pullUpFinish():n.state.pullUp===n.pullUpStats.activate&&(n.setState({pullUp:n.pullUpStats.release}),n._pullUpTimer=setTimeout(function(){n.props.pullUpRefreshing||n.pullUpFinish(),n._pullUpTimer=void 0},1e3),n.props.pullUpOnRefresh())},this.pullUpFinish=function(){n._pullUpLastScreenY=0,(0,C.setTransform)(n.pullUpContentRef.style,"translate3d(0px,0px,0)"),n.state.pullUp===n.pullUpStats.release&&n.setState({pullUp:n.pullUpStats.finish})}};t["default"]=L,n.exports=t["default"]},585:function(n,t,s){n.exports={content:[["p","\u4e0b\u62c9\u5237\u65b0"]],meta:{order:0,title:{"zh-CN":"ListView \u4e0b\u62c9\u5237\u65b0","en-US":"ListView RefreshControl"},filename:"components/refresh-control/demo/basic.md",id:"components-refresh-control-demo-basic"},highlightedCode:["pre",{lang:"jsx",highlighted:'<span class="token comment" spellcheck="true">/* eslint no-dupe-keys: 0, no-mixed-operators: 0 */</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> RefreshControl<span class="token punctuation">,</span> ListView <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'antd-mobile\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>\n  <span class="token punctuation">{</span>\n    img<span class="token punctuation">:</span> <span class="token string">\'https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png\'</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'Meet hotel\'</span><span class="token punctuation">,</span>\n    des<span class="token punctuation">:</span> <span class="token string">\'\u4e0d\u662f\u6240\u6709\u7684\u517c\u804c\u6c6a\u90fd\u9700\u8981\u98ce\u5439\u65e5\u6652\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    img<span class="token punctuation">:</span> <span class="token string">\'https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png\'</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'McDonald\\\'s invites you\'</span><span class="token punctuation">,</span>\n    des<span class="token punctuation">:</span> <span class="token string">\'\u4e0d\u662f\u6240\u6709\u7684\u517c\u804c\u6c6a\u90fd\u9700\u8981\u98ce\u5439\u65e5\u6652\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    img<span class="token punctuation">:</span> <span class="token string">\'https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png\'</span><span class="token punctuation">,</span>\n    title<span class="token punctuation">:</span> <span class="token string">\'Eat the week\'</span><span class="token punctuation">,</span>\n    des<span class="token punctuation">:</span> <span class="token string">\'\u4e0d\u662f\u6240\u6709\u7684\u517c\u804c\u6c6a\u90fd\u9700\u8981\u98ce\u5439\u65e5\u6652\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> index <span class="token operator">=</span> data<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> NUM_ROWS <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> pageIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">genData</span><span class="token punctuation">(</span>pIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> dataArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NUM_ROWS<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    dataArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`row - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span>pIndex <span class="token operator">*</span> NUM_ROWS<span class="token punctuation">)</span> <span class="token operator">+</span> i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> dataArr<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ListView<span class="token punctuation">.</span>DataSource</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      rowHasChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>row1<span class="token punctuation">,</span> row2<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> row1 <span class="token operator">!==</span> row2<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>\n      dataSource<span class="token punctuation">,</span>\n      refreshing<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      height<span class="token punctuation">:</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token comment" spellcheck="true">// If you use redux, the data maybe at props, you need use `componentWillReceiveProps`</span>\n  <span class="token comment" spellcheck="true">// componentWillReceiveProps(nextProps) {</span>\n  <span class="token comment" spellcheck="true">//   if (nextProps.dataSource !== this.props.dataSource) {</span>\n  <span class="token comment" spellcheck="true">//     this.setState({</span>\n  <span class="token comment" spellcheck="true">//       dataSource: this.state.dataSource.cloneWithRows(nextProps.dataSource),</span>\n  <span class="token comment" spellcheck="true">//     });</span>\n  <span class="token comment" spellcheck="true">//   }</span>\n  <span class="token comment" spellcheck="true">// }</span>\n\n  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// Set the appropriate height</span>\n    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n      height<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>height <span class="token operator">-</span> ReactDOM<span class="token punctuation">.</span><span class="token function">findDOMNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>lv<span class="token punctuation">)</span><span class="token punctuation">.</span>offsetTop<span class="token punctuation">,</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment" spellcheck="true">// handle https://github.com/ant-design/ant-design-mobile/issues/1588</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lv<span class="token punctuation">.</span><span class="token function">getInnerViewNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'touchstart\'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ts <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>tsPageY <span class="token operator">=</span> e<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token comment" spellcheck="true">// In chrome61 `document.body.scrollTop` is invalid</span>\n    <span class="token keyword">const</span> scrollNode <span class="token operator">=</span> document<span class="token punctuation">.</span>scrollingElement <span class="token operator">?</span> document<span class="token punctuation">.</span>scrollingElement <span class="token punctuation">:</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lv<span class="token punctuation">.</span><span class="token function">getInnerViewNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'touchmove\'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tm <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>tmPageY <span class="token operator">=</span> e<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tmPageY <span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>tsPageY <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollerTop <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> scrollNode<span class="token punctuation">.</span>scrollTop <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'start pull to refresh\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>domScroller<span class="token punctuation">.</span>options<span class="token punctuation">.</span>preventDefaultOnTouchMove <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>domScroller<span class="token punctuation">.</span>options<span class="token punctuation">.</span>preventDefaultOnTouchMove <span class="token operator">=</span> undefined<span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lv<span class="token punctuation">.</span><span class="token function">getInnerViewNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">\'touchstart\'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lv<span class="token punctuation">.</span><span class="token function">getInnerViewNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">\'touchmove\'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tm<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  onScroll <span class="token operator">=</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>scrollerTop <span class="token operator">=</span> e<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span><span class="token function">getValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>domScroller <span class="token operator">=</span> e<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  onRefresh <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'onRefresh\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>manuallyRefresh<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> refreshing<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>manuallyRefresh <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token comment" spellcheck="true">// simulate initial Ajax</span>\n    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>rData <span class="token operator">=</span> <span class="token function">genData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        dataSource<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span><span class="token function">cloneWithRows</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rData<span class="token punctuation">)</span><span class="token punctuation">,</span>\n        refreshing<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n        showFinishTxt<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>domScroller<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>domScroller<span class="token punctuation">.</span>scroller<span class="token punctuation">.</span>options<span class="token punctuation">.</span>animationDuration <span class="token operator">=</span> <span class="token number">500</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  onEndReached <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// load new data</span>\n    <span class="token comment" spellcheck="true">// hasMore: from backend data, indicates whether it is the last page, here is false</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isLoading <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>hasMore<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'reach end\'</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> isLoading<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>rData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>rData<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token function">genData</span><span class="token punctuation">(</span><span class="token operator">++</span>pageIndex<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        dataSource<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span><span class="token function">cloneWithRows</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>rData<span class="token punctuation">)</span><span class="token punctuation">,</span>\n        isLoading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n  scrollingComplete <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n    <span class="token comment" spellcheck="true">// In general, this.scrollerTop should be 0 at the end, but it may be -0.000051 in chrome61.</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scrollerTop <span class="token operator">>=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> showFinishTxt<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">renderCustomIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token punctuation">[</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>am-refresh-control-pull<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>showFinishTxt <span class="token operator">?</span> <span class="token string">\'\u5237\u65b0\u5b8c\u6bd5\'</span> <span class="token punctuation">:</span> <span class="token string">\'\u4e0b\u62c9\u53ef\u4ee5\u5237\u65b0\'</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>am-refresh-control-release<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>\u677e\u5f00\u7acb\u5373\u5237\u65b0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> separator <span class="token operator">=</span> <span class="token punctuation">(</span>sectionID<span class="token punctuation">,</span> rowID<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>\n        <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>sectionID<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>rowID<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          backgroundColor<span class="token punctuation">:</span> <span class="token string">\'#F5F5F9\'</span><span class="token punctuation">,</span>\n          height<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>\n          borderTop<span class="token punctuation">:</span> <span class="token string">\'1px solid #ECECED\'</span><span class="token punctuation">,</span>\n          borderBottom<span class="token punctuation">:</span> <span class="token string">\'1px solid #ECECED\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n      <span class="token punctuation">/></span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">const</span> row <span class="token operator">=</span> <span class="token punctuation">(</span>rowData<span class="token punctuation">,</span> sectionID<span class="token punctuation">,</span> rowID<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>\n      <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        index <span class="token operator">=</span> data<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>\n      <span class="token punctuation">}</span>\n      <span class="token keyword">const</span> obj <span class="token operator">=</span> data<span class="token punctuation">[</span>index<span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n      <span class="token keyword">return</span> <span class="token punctuation">(</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>rowID<span class="token punctuation">}</span></span>\n          <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n            padding<span class="token punctuation">:</span> <span class="token string">\'0 15px\'</span><span class="token punctuation">,</span>\n            backgroundColor<span class="token punctuation">:</span> <span class="token string">\'white\'</span><span class="token punctuation">,</span>\n          <span class="token punctuation">}</span><span class="token punctuation">}</span></span>\n        <span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> height<span class="token punctuation">:</span> <span class="token string">\'50px\'</span><span class="token punctuation">,</span> lineHeight<span class="token punctuation">:</span> <span class="token string">\'50px\'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">\'#888\'</span><span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token string">\'18px\'</span><span class="token punctuation">,</span> borderBottom<span class="token punctuation">:</span> <span class="token string">\'1px solid #ddd\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n            <span class="token punctuation">{</span>obj<span class="token punctuation">.</span>title<span class="token punctuation">}</span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> display<span class="token punctuation">:</span> <span class="token string">\'-webkit-box\'</span><span class="token punctuation">,</span> display<span class="token punctuation">:</span> <span class="token string">\'flex\'</span><span class="token punctuation">,</span> padding<span class="token punctuation">:</span> <span class="token string">\'15px\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> height<span class="token punctuation">:</span> <span class="token string">\'63px\'</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token string">\'63px\'</span><span class="token punctuation">,</span> marginRight<span class="token punctuation">:</span> <span class="token string">\'15px\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>obj<span class="token punctuation">.</span>img<span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> display<span class="token punctuation">:</span> <span class="token string">\'inline-block\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> marginBottom<span class="token punctuation">:</span> <span class="token string">\'8px\'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">\'#000\'</span><span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token string">\'16px\'</span><span class="token punctuation">,</span> overflow<span class="token punctuation">:</span> <span class="token string">\'hidden\'</span><span class="token punctuation">,</span> textOverflow<span class="token punctuation">:</span> <span class="token string">\'ellipsis\'</span><span class="token punctuation">,</span> whiteSpace<span class="token punctuation">:</span> <span class="token string">\'nowrap\'</span><span class="token punctuation">,</span> maxWidth<span class="token punctuation">:</span> <span class="token string">\'250px\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>obj<span class="token punctuation">.</span>des<span class="token punctuation">}</span><span class="token operator">-</span><span class="token punctuation">{</span>rowData<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> fontSize<span class="token punctuation">:</span> <span class="token string">\'16px\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> fontSize<span class="token punctuation">:</span> <span class="token string">\'30px\'</span><span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token string">\'#FF6E27\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token punctuation">{</span>rowID<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> \u5143<span class="token operator">/</span>\u4efb\u52a1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n      <span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ListView</span>\n        <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span>el <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>lv <span class="token operator">=</span> el<span class="token punctuation">}</span></span>\n        <span class="token attr-name">dataSource</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>dataSource<span class="token punctuation">}</span></span>\n        <span class="token attr-name">renderHeader</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>Pull to refresh<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token punctuation">}</span></span>\n        <span class="token attr-name">renderFooter</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div style<span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> padding<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> textAlign<span class="token punctuation">:</span> <span class="token string">\'center\'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>isLoading <span class="token operator">?</span> <span class="token string">\'Loading...\'</span> <span class="token punctuation">:</span> <span class="token string">\'Loaded\'</span><span class="token punctuation">}</span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">}</span>\n        renderRow<span class="token operator">=</span><span class="token punctuation">{</span>row<span class="token punctuation">}</span>\n        renderSeparator<span class="token operator">=</span><span class="token punctuation">{</span>separator<span class="token punctuation">}</span>\n        initialListSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span>\n        pageSize<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span>\n        style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>\n          height<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>height<span class="token punctuation">,</span>\n          border<span class="token punctuation">:</span> <span class="token string">\'1px solid #ddd\'</span><span class="token punctuation">,</span>\n          margin<span class="token punctuation">:</span> <span class="token string">\'5px 0\'</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">}</span>\n        scrollerOptions<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> scrollbars<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> scrollingComplete<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollingComplete <span class="token punctuation">}</span><span class="token punctuation">}</span>\n        refreshControl<span class="token operator">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>RefreshControl</span>\n          <span class="token attr-name">refreshing</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>refreshing<span class="token punctuation">}</span></span>\n          <span class="token attr-name">onRefresh</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onRefresh<span class="token punctuation">}</span></span>\n          <span class="token attr-name">icon</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderCustomIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>\n        <span class="token punctuation">/></span></span><span class="token punctuation">}</span>\n        onScroll<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onScroll<span class="token punctuation">}</span>\n        scrollRenderAheadDistance<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">200</span><span class="token punctuation">}</span>\n        scrollEventThrottle<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">}</span>\n        onEndReached<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onEndReached<span class="token punctuation">}</span>\n        onEndReachedThreshold<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span>\n      <span class="token operator">/</span><span class="token operator">></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> mountNode<span class="token punctuation">)</span><span class="token punctuation">;</span>'
}],preview:function(){function n(n){return n&&n.__esModule?n:{"default":n}}function t(n,t){for(var s=Object.getOwnPropertyNames(t),a=0;a<s.length;a++){var e=s[a],o=Object.getOwnPropertyDescriptor(t,e);o&&o.configurable&&void 0===n[e]&&Object.defineProperty(n,e,o)}return n}function a(n,t,s){return t in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function e(n){if(Array.isArray(n)){for(var t=0,s=Array(n.length);t<n.length;t++)s[t]=n[t];return s}return Array.from(n)}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function p(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function c(n,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);n.prototype=Object.create(s&&s.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(n,s):t(n,s))}function l(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[],s=0;s<g;s++)t.push("row - "+(n*g+s));return t}var i=s(1),r=s(1),u=(s(684),s(683)),d=n(u),k=(s(204),s(203)),h=n(k),f=[{img:"https://zos.alipayobjects.com/rmsportal/dKbkpPXKfvZzWCM.png",title:"Meet hotel",des:"\u4e0d\u662f\u6240\u6709\u7684\u517c\u804c\u6c6a\u90fd\u9700\u8981\u98ce\u5439\u65e5\u6652"},{img:"https://zos.alipayobjects.com/rmsportal/XmwCzSeJiqpkuMB.png",title:"McDonald's invites you",des:"\u4e0d\u662f\u6240\u6709\u7684\u517c\u804c\u6c6a\u90fd\u9700\u8981\u98ce\u5439\u65e5\u6652"},{img:"https://zos.alipayobjects.com/rmsportal/hfVtzEhPzTUewPm.png",title:"Eat the week",des:"\u4e0d\u662f\u6240\u6709\u7684\u517c\u804c\u6c6a\u90fd\u9700\u8981\u98ce\u5439\u65e5\u6652"}],_=f.length-1,g=20,m=0,v=function(n){function t(s){o(this,t);var a=p(this,n.call(this,s));a.onScroll=function(n){a.scrollerTop=n.scroller.getValues().top,a.domScroller=n},a.onRefresh=function(){console.log("onRefresh"),a.manuallyRefresh?a.manuallyRefresh=!1:a.setState({refreshing:!0}),setTimeout(function(){a.rData=l(),a.setState({dataSource:a.state.dataSource.cloneWithRows(a.rData),refreshing:!1,showFinishTxt:!0}),a.domScroller&&(a.domScroller.scroller.options.animationDuration=500)},600)},a.onEndReached=function(n){a.state.isLoading&&!a.state.hasMore||(console.log("reach end",n),a.setState({isLoading:!0}),setTimeout(function(){a.rData=[].concat(e(a.rData),e(l(++m))),a.setState({dataSource:a.state.dataSource.cloneWithRows(a.rData),isLoading:!1})},1e3))},a.scrollingComplete=function(){a.scrollerTop>=-1&&a.setState({showFinishTxt:!1})};var c=new h["default"].DataSource({rowHasChanged:function(n,t){return n!==t}});return a.state={dataSource:c,refreshing:!0,height:document.documentElement.clientHeight},a}return c(t,n),t.prototype.componentDidMount=function(){var n=this;setTimeout(function(){return n.setState({height:n.state.height-r.findDOMNode(n.lv).offsetTop})},0),this.lv.getInnerViewNode().addEventListener("touchstart",this.ts=function(t){n.tsPageY=t.touches[0].pageY});var t=document.scrollingElement?document.scrollingElement:document.body;this.lv.getInnerViewNode().addEventListener("touchmove",this.tm=function(s){n.tmPageY=s.touches[0].pageY,n.tmPageY>n.tsPageY&&n.scrollerTop<=0&&t.scrollTop>0?(console.log("start pull to refresh"),n.domScroller.options.preventDefaultOnTouchMove=!1):n.domScroller.options.preventDefaultOnTouchMove=void 0})},t.prototype.componentWillUnmount=function(){this.lv.getInnerViewNode().removeEventListener("touchstart",this.ts),this.lv.getInnerViewNode().removeEventListener("touchmove",this.tm)},t.prototype.renderCustomIcon=function(){return[i.createElement("div",{key:"0",className:"am-refresh-control-pull"},i.createElement("span",null,this.state.showFinishTxt?"\u5237\u65b0\u5b8c\u6bd5":"\u4e0b\u62c9\u53ef\u4ee5\u5237\u65b0")),i.createElement("div",{key:"1",className:"am-refresh-control-release"},i.createElement("span",null,"\u677e\u5f00\u7acb\u5373\u5237\u65b0"))]},t.prototype.render=function(){var n=this,t=function(n,t){return i.createElement("div",{key:n+"-"+t,style:{backgroundColor:"#F5F5F9",height:8,borderTop:"1px solid #ECECED",borderBottom:"1px solid #ECECED"}})},s=function(n,t,s){var e;_<0&&(_=f.length-1);var o=f[_--];return i.createElement("div",{key:s,style:{padding:"0 15px",backgroundColor:"white"}},i.createElement("div",{style:{height:"50px",lineHeight:"50px",color:"#888",fontSize:"18px",borderBottom:"1px solid #ddd"}},o.title),i.createElement("div",{style:(e={display:"-webkit-box"},a(e,"display","flex"),a(e,"padding","15px"),e)},i.createElement("img",{style:{height:"63px",width:"63px",marginRight:"15px"},src:o.img,alt:"icon"}),i.createElement("div",{style:{display:"inline-block"}},i.createElement("div",{style:{marginBottom:"8px",color:"#000",fontSize:"16px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"250px"}},o.des,"-",n),i.createElement("div",{style:{fontSize:"16px"}},i.createElement("span",{style:{fontSize:"30px",color:"#FF6E27"}},s)," \u5143/\u4efb\u52a1"))))};return i.createElement(h["default"],{ref:function(t){return n.lv=t},dataSource:this.state.dataSource,renderHeader:function(){return i.createElement("span",null,"Pull to refresh")},renderFooter:function(){return i.createElement("div",{style:{padding:30,textAlign:"center"}},n.state.isLoading?"Loading...":"Loaded")},renderRow:s,renderSeparator:t,initialListSize:5,pageSize:5,style:{height:this.state.height,border:"1px solid #ddd",margin:"5px 0"},scrollerOptions:{scrollbars:!0,scrollingComplete:this.scrollingComplete},refreshControl:i.createElement(d["default"],{refreshing:this.state.refreshing,onRefresh:this.onRefresh,icon:this.renderCustomIcon()}),onScroll:this.onScroll,scrollRenderAheadDistance:200,scrollEventThrottle:20,onEndReached:this.onEndReached,onEndReachedThreshold:10})},t}(i.Component);return i.createElement(v,null)},style:".am-refresh-control-deactive .am-refresh-control-indicator-icon {\n  display: block;\n}",highlightedStyle:'<span class="token selector"><span class="token class">.am-refresh-control-deactive</span> <span class="token class">.am-refresh-control-indicator-icon</span> </span><span class="token punctuation">{</span>\n  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>'}},683:function(n,t,s){"use strict";function a(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(t,"__esModule",{value:!0});var e=s(2),o=a(e),p=s(1),c=a(p),l=s(227),i=a(l),r=s(52),u=a(r);i["default"].RefreshControl.defaultProps=(0,o["default"])({},i["default"].RefreshControl.defaultProps,{prefixCls:"am-refresh-control",icon:[c["default"].createElement("div",{key:"0",className:"am-refresh-control-pull"},c["default"].createElement("span",null,"\u4e0b\u62c9\u53ef\u4ee5\u5237\u65b0")),c["default"].createElement("div",{key:"1",className:"am-refresh-control-release"},c["default"].createElement("span",null,"\u677e\u5f00\u7acb\u5373\u5237\u65b0"))],loading:c["default"].createElement(u["default"],{type:"loading"}),refreshing:!1,distanceToRefresh:25}),t["default"]=i["default"].RefreshControl,n.exports=t["default"]},684:function(n,t,s){"use strict";s(6),s(22),s(821)},734:function(n,t,s){n.exports={basic:s(585)}},821:function(n,t){}});